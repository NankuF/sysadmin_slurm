# Мандатный контроль управления доступом (Mandatory Access Control — MAC)

## Основы MAC
Мандатный контроль доступа (MAC) — это модель безопасности, при которой правила доступа устанавливаются централизованно и не могут быть изменены пользователями.

Это контрастирует с дискреционной моделью, где пользователи сами решают, кто может получить доступ к их файлам.

### Зачем это нужно:

MAC был разработан для использования в системах с высокими требованиями к безопасности, таких как военные или государственные системы. В этих системах важно, чтобы даже администраторы не могли случайно или намеренно изменить правила доступа.

### Принципы работы
В MAC доступ определяется на основе классификации данных и субъектов:

- Классификация данных: каждому объекту присваивается метка, определяющая его уровень конфиденциальности.
- Классификация субъектов: каждому субъекту (пользователю или процессу) присваивается уровень допуска.
- Разграничение доступа: доступ субъекта к объекту определяется их сравнением. Например, субъект с низким уровнем допуска не сможет получить доступ к объекту с высоким уровнем конфиденциальности.

### SELinux и AppArmor
В Linux MAC реализован через системы SELinux и AppArmor. Давайте их рассмотрим.

### SELinux
SELinux предлагает строгие политики безопасности, которые определяют, какие действия процессы могут выполнять над объектами.

#### Пример включения SELinux:

sudo setenforce 1  # Включение
sudo setenforce 0  # Отключение

### AppArmor
AppArmor использует профили, которые определяют, какие операции можно выполнять над конкретными программами или файлами.

#### Пример включения профиля:

sudo aa-enforce /etc/apparmor.d/usr.bin.someprogram

### Преимущества и недостатки MAC
#### Преимущества:

- Высокий уровень безопасности благодаря строгому разграничению доступа.
- Централизованное управление правилами, что предотвращает случайные ошибки.

#### Недостатки:

- Сложность настройки и управления.
- Возможные конфликты с легитимными операциями, требующие дополнительной настройки.
